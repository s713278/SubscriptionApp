# Session settings
server:
  port: 8080
  servlet:
    context-path: /api
    session:
      cookie:
        name: JSESSIONID  # Custom name for the session cookie
        http-only: true   # Make the cookie HTTP-only to prevent client-side access
        secure: false      # Send cookie only over HTTPS (enable in production)
        path: /           # Path for the session cookie
      timeout: 1m        # Session timeout set to 30 minutes
#  profiles:
#    active: docker
#Swagger OpenAPI
#For sorting endpoints alphabetically
springdoc:
  api-docs:
    #path: /custom-api-docs  # Custom path for OpenAPI documentation instead of /api/v3/api-docs
    override-with-spec-url: false  # Override the auto-generated spec with your own
    #spec-url: /custom-api-docs/openapi.json
  #swagger-ui.url: /custom-api-docs/openapi.json
  swagger-ui:
    operationsSorter: alpha          # Sort operations alphabetically
    tagsSorter: alpha                # Sort tags alphabetically
    doc-expansion: false              # Collapse all sections in the Swagger UI by default
    #path: /swagger-ui.html           # Path to access Swagger UI instaed of /swagger-ui/index.html
    #url: /custom-api-docs/openapi.json
logging:
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%X{X-Request-ID}] %-5level %logger{36} - %msg%n"
  level:
    root: INFO
    com:
      app:
        controllers: DEBUG
        services: DEBUG
  file:
    name: logs/application.log
    max-size: 10MB
    max-history: 10
spring:
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB
  cache:
    cache-names: "skus,products,vendors,otp,otpAttempts,prices"
    caffeine:
      skus: "maximumSize=500,expireAfterAccess=600s"
      products: "maximumSize=500,expireAfterAccess=600s"
      otpCache: "maximumSize=200,expireAfterAccess=600s"
      attemptsCache: "maximumSize=200,expireAfterAccess=600s"
      prices: "maximumSize=200,expireAfterAccess=600s"
  threads:
    virtual:
      enabled: true
  mail:
    host: sandbox.smtp.mailtrap.io
    port: 2525
    username: 48210583b24f35
    password:
    properties.mail.smtp:
      auth: true
      starttls.enable: true
  web:
    cors:
      allowed_origins:
        - http://localhost:3000
        - http://localhost:5173
      allowed_methods:
        - GET
        - POST
        - PUT
        - DELETE
        - OPTIONS
      allowed_headers:
        - Content-Type
        - Accept
        - Authorization
        - Access-Control-Request-Method
        - Access-Control-Request-Headers
        - Access-Control-Allow-Headers
      exposed_headers:
        - Access-Control-Allow-Origin
        - Access-Control-Allow-Headers
        - X-Request-ID
      allow-credentials: true
application:
  #snr:
    #local_url: http://localhost:8080/api
    #dev_url: https://snr.ngrok.dev/api
  jwt_config:
    issuer: SubNRenewal
    secret:
    access_exp_time: 1800 #Short-lived (e.g., 15 minutes, 1 hour).
    refresh_exp_time: 7776000000  #Stored securely on the client.
  vendor_config:
  customer_config:
    otp_verification_enabled: false
    verify_otp: false
    otp_exp_time: 60  #In seconds
    otp_no_of_retry: 3  #In seconds
    email_token_exp: 3600
    address_valid_keys:
      - name
      - address1
      - address2
      - city
      - state
      - zipCode
      - state
      - country
    preference_valid_keys:
      - vendor_id
  subscription_config:
    eligible_delivery_keys:
      - type
      - delivery_days
  sms_providers:
    fast2sms:
      api_key:
      route: q #otp q-->Quick SMS
      url: https://www.fast2sms.com/dev/bulkV2
      flash: 1
    vonage:
      url: https://rest.nexmo.com/sms/json
      api_key:
      api_secret:
      from_brand: SubNRenewal
  cache_config: #In minutes
    db_data_TTL: 360
    db_data_max_size: 5000
    otp_TTL: 5
    otp_max_size: 2500
  images_path: images/


